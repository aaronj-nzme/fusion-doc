

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Context Component API &mdash; Fusion-Doc 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Content Component API" href="api-content.html" />
    <link rel="prev" title="Consumer API" href="api-consumer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Fusion-Doc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="output.html">Creating and Using Output Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature.html">Creating a Feature Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout.html">Creating a Layout Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="chain.html">Creating a Chain Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="event-handling.html">Event Handling and Interaction</a></li>
</ul>
<p class="caption"><span class="caption-text">Data:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="content-source.html">Defining a Content Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Using Environment Variables and “Secrets”</a></li>
<li class="toctree-l1"><a class="reference internal" href="consumer-hoc.html">Using the Consumer Higher-Order Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetching-content.html">Fetching Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring-content.html">Dynamically Configuring Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="content-filtering.html">Content Filtering in Fusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="site-properties.html">Using Site Properties</a></li>
</ul>
<p class="caption"><span class="caption-text">General:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Folder.html">Examining the Feature Pack</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">Adding Styling to Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-fields.html">Adding Custom Fields to Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="display-properties.html">Working with Display Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="isomorphic-server-spa.html">Isomorphic vs. Server vs. SPA rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="messga-between-components.html">Messaging Between Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-error-page.html">Using Custom Error Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="return-non-html-content-type.html">Creating a Web API Returning a Non-HTML Content Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="service-work.html">Using Service Workers with Fusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="local-webpack-states-file.html">Locally Generated Webpack Stats File</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-features-outside-of-fusion.html">Including Static Features Outside of Fusion</a></li>
</ul>
<p class="caption"><span class="caption-text">Best Practices:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bp.html">Best Practices</a></li>
</ul>
<p class="caption"><span class="caption-text">Hooks:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hooks-configuring-content.html">Dynamically Configuring Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks-fetching-content.html">Fetching Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks-event-handling.html">Event Handling and Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks.html">React Hooks</a></li>
</ul>
<p class="caption"><span class="caption-text">API:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api-output.html">Output Type API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-feature.html">Feature API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-layout.html">Layout API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-chain.html">Chain API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-custom-fields.html">Custom Fields API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-consumer.html">Consumer API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Context Component API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#implementation">Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#context-component">Context Component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#appcontext-and-componentcontext-components">AppContext and ComponentContext Components</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hocs">HOCs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#props">Props</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#app-context">App Context</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arcsite-string">arcSite (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#contextpath-string">contextPath (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deployment-function">deployment() - (Function)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#globalcontent-object">globalContent (Object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#globalcontentconfig-object">globalContentConfig (Object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#isadmin-boolean">isAdmin (Boolean)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#layout-string">layout (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#outputtype-string">outputType (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#renderables-array">renderables - (Array)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#requesturi-string">requestUri (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#siteproperties-object">siteProperties (Object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#template-string">template (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tree-object">tree - (Object)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#component-context">Component Context</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#collection-string">collection - (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-string">type - (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id-string">id - (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#name-string">name - (String)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#customfields-object">customFields - (Object)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#displayproperties-object">displayProperties - (Object)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pass-through-props">Pass-through Props</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id32">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-content.html">Content Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-static.html">Static Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-content-source.html">Content Source API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-plugins.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-local-development-mock.html">Local Mocks API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-site-properties.html">Site Properties API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-fusion-http.html">Fusion HTTP API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Fusion-Doc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Context Component API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api-context.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="context-component-api">
<h1>Context Component API<a class="headerlink" href="#context-component-api" title="Permalink to this headline">¶</a></h1>
<p>Fusion <code class="docutils literal notranslate"><span class="pre">&lt;Context&gt;</span></code> is a React component for accessing the static context properties.</p>
<p>There are 2 fusion contexts: the application context is globally scoped and includes properties that apply to the entire rendered page; the component context includes properties that apply to the closest ancestor component.</p>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>The Fusion <code class="docutils literal notranslate"><span class="pre">&lt;Context&gt;</span></code> component takes no arguments and uses the render props pattern to call either a provided render property, or child function(s), with the static properties that include both the app- and component-scoped context properties.</p>
<div class="section" id="context-component">
<h3>Context Component<a class="headerlink" href="#context-component" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;Context&gt;</span></code> component is imported from the <code class="docutils literal notranslate"><span class="pre">fusion:context</span></code> namespace. It is the default export of the module and should be used as a React Component.</p>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="nn">Context</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">const</span> <span class="n">MyFeatureComponent</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;</span><span class="n">Context</span><span class="o">&gt;</span>
    <span class="p">{({</span> <span class="n">arcSite</span><span class="p">,</span> <span class="nb">id</span> <span class="p">})</span> <span class="o">=&gt;</span>
      <span class="o">&lt;&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">arc</span><span class="o">-</span><span class="n">site</span><span class="p">:</span> <span class="p">{</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">feature</span> <span class="nb">id</span><span class="p">:</span> <span class="p">{</span><span class="nb">id</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
      <span class="o">&lt;/&gt;</span>
    <span class="p">}</span>
  <span class="o">&lt;/</span><span class="n">Context</span><span class="o">&gt;</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">MyFeatureComponent</span>
</pre></div>
</div>
<p>The children array is expected to contain valid React components, so you may refactor to use more convenient child components.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="nn">Context</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">const</span> <span class="n">ArcSiteComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="n">arcSite</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">arc</span><span class="o">-</span><span class="n">site</span><span class="p">:</span> <span class="p">{</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="n">const</span> <span class="n">ComponentIdComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="nb">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">feature</span> <span class="nb">id</span><span class="p">:</span> <span class="p">{</span><span class="nb">id</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="n">const</span> <span class="n">MyFeatureComponent</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;</span><span class="n">Context</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="n">ArcSiteComponent</span><span class="p">}</span>
    <span class="p">{</span><span class="n">ComponentIdComponent</span><span class="p">}</span>
  <span class="o">&lt;/</span><span class="n">Context</span><span class="o">&gt;</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">MyFeatureComponent</span>
</pre></div>
</div>
<p>If using a functional component, you may also access the same information with React hooks as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">useFusionContext</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">function</span> <span class="n">ArcSiteComponent</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">const</span> <span class="p">{</span> <span class="n">arcSite</span><span class="p">,</span> <span class="nb">id</span> <span class="p">}</span> <span class="o">=</span> <span class="n">useFusionContext</span><span class="p">()</span>

  <span class="k">return</span> <span class="o">&lt;&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">arc</span><span class="o">-</span><span class="n">site</span><span class="p">:</span> <span class="p">{</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">feature</span> <span class="nb">id</span><span class="p">:</span> <span class="p">{</span><span class="nb">id</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="o">&lt;/&gt;</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">ArcSiteComponent</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="appcontext-and-componentcontext-components">
<h3>AppContext and ComponentContext Components<a class="headerlink" href="#appcontext-and-componentcontext-components" title="Permalink to this headline">¶</a></h3>
<p>There are app- or compontent-scoped context components available as <code class="docutils literal notranslate"><span class="pre">AppContext</span></code> or <code class="docutils literal notranslate"><span class="pre">ComponentContext</span></code>, respectively.</p>
<div class="section" id="id1">
<h4>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">AppContext</span><span class="p">,</span> <span class="n">ComponentContext</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">const</span> <span class="n">ArcSiteComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="n">arcSite</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">arc</span><span class="o">-</span><span class="n">site</span><span class="p">:</span> <span class="p">{</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="n">const</span> <span class="n">ComponentIdComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="nb">id</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">feature</span> <span class="nb">id</span><span class="p">:</span> <span class="p">{</span><span class="nb">id</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="n">const</span> <span class="n">MyFeatureComponent</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;&gt;</span>
    <span class="o">&lt;</span><span class="n">AppContext</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="n">ArcSiteComponent</span><span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">AppContext</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ComponentContext</span> <span class="n">render</span><span class="o">=</span><span class="p">{</span><span class="n">ComponentIdComponent</span><span class="p">}</span> <span class="o">/&gt;</span>
  <span class="o">&lt;/&gt;</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">MyFeatureComponent</span>
</pre></div>
</div>
<p>or you may access app- or component-scoped context using hooks as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="p">{</span> <span class="n">useAppContext</span><span class="p">,</span> <span class="n">useComponentContext</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">function</span> <span class="n">ArcSiteComponent</span> <span class="p">()</span> <span class="p">{</span>
  <span class="n">const</span> <span class="p">{</span> <span class="n">arcSite</span> <span class="p">}</span> <span class="o">=</span> <span class="n">useAppContext</span><span class="p">()</span>
  <span class="n">const</span> <span class="p">{</span> <span class="nb">id</span> <span class="p">}</span> <span class="o">=</span> <span class="n">useComponentContext</span><span class="p">()</span>

  <span class="k">return</span> <span class="o">&lt;&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">arc</span><span class="o">-</span><span class="n">site</span><span class="p">:</span> <span class="p">{</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">feature</span> <span class="nb">id</span><span class="p">:</span> <span class="p">{</span><span class="nb">id</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="o">&lt;/&gt;</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">ArcSiteComponent</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="hocs">
<h3>HOCs<a class="headerlink" href="#hocs" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;Context&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;AppContext&gt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;ComponentContext&gt;</span></code> components may also be used as higher-order components to have the corresponding context properties appended to the incoming props of your custom component. These HOCs are also available as with-prefixed, if you prefer the redux naming style (e.g., <code class="docutils literal notranslate"><span class="pre">withAppContext</span></code>, <code class="docutils literal notranslate"><span class="pre">withComponentContenxt</span></code>, or <code class="docutils literal notranslate"><span class="pre">withFusionContext</span></code>)</p>
<div class="section" id="id2">
<h4>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="nn">FusionContext</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">const</span> <span class="n">MyFeatureComponent</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">arc</span><span class="o">-</span><span class="n">site</span><span class="p">:</span> <span class="p">{</span><span class="n">props</span><span class="o">.</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="n">feature</span> <span class="nb">id</span><span class="p">:</span> <span class="p">{</span><span class="n">props</span><span class="o">.</span><span class="n">id</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="o">&lt;/&gt;</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">FusionContext</span><span class="p">(</span><span class="n">MyFeatureComponent</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="props">
<h2>Props<a class="headerlink" href="#props" title="Permalink to this headline">¶</a></h2>
<div class="section" id="app-context">
<h3>App Context<a class="headerlink" href="#app-context" title="Permalink to this headline">¶</a></h3>
<div class="section" id="arcsite-string">
<h4>arcSite (String)<a class="headerlink" href="#arcsite-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="description">
<h5>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h5>
<p>The Arc site used in this rendering, if multi-site enabled. This will be determined by the value of the <code class="docutils literal notranslate"><span class="pre">_website</span></code> query parameter appended to the page request.</p>
</div>
<div class="section" id="id3">
<h5>Example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>  <span class="o">/</span><span class="n">components</span><span class="o">/</span><span class="n">features</span><span class="o">/</span><span class="k">global</span><span class="o">/</span><span class="n">footer</span><span class="o">.</span><span class="n">jsx</span>  <span class="o">*/</span>

<span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="nn">Context</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">const</span> <span class="n">Footer</span> <span class="o">=</span> <span class="p">({</span> <span class="n">arcSite</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;&amp;</span><span class="n">copy</span><span class="p">;</span> <span class="mi">2018</span> <span class="p">{</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="n">export</span> <span class="n">default</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;</span><span class="n">Context</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="n">Footer</span><span class="p">}</span>
  <span class="o">&lt;/</span><span class="n">Context</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="contextpath-string">
<h4>contextPath (String)<a class="headerlink" href="#contextpath-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id4">
<h5>Description<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h5>
<p>This is the base context path of the application. In the client, you could calculate this using <code class="docutils literal notranslate"><span class="pre">window.location</span></code>, but this property exists to provide similar server-side access.</p>
</div>
<div class="section" id="id5">
<h5>Example<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*  /components/features/global/logo.jsx  */
import React from &#39;react&#39;
import Context from &#39;fusion:context&#39;

const Logo = ({ contextPath }) =&gt; &lt;img src={`${contextPath}/resources/img/logo.png`} /&gt;

export default (props) =&gt;
  &lt;Context&gt;
    {Logo}
  &lt;/Context&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="deployment-function">
<h4>deployment() - (Function)<a class="headerlink" href="#deployment-function" title="Permalink to this headline">¶</a></h4>
<p>Also aliased as <code class="docutils literal notranslate"><span class="pre">version()</span></code></p>
<div class="section" id="id6">
<h5>Description<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h5>
<p>Appends a given resource path with the deployment ID (of the lambda function) that is generating this response. Should be called as a function receiving the path you want to have modified as <code class="docutils literal notranslate"><span class="pre">deployment('/pf/resources/styles/main.css')</span></code>, but can also be added as a query param to static paths as <code class="docutils literal notranslate"><span class="pre">?d=${deployment}</span></code>. Any URLs generated by fusion (e.g., via <code class="docutils literal notranslate"><span class="pre">CssLinks</span></code>) will already be annotated with this param.</p>
<blockquote>
<div><p><strong>NOTE</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">deployment()</span></code> function should be used to wrap paths to request <em>any</em> static resources contained in your bundle. The only exception to this is paths referenced from within your CSS files (e.g. <code class="docutils literal notranslate"><span class="pre">background-image:</span> <span class="pre">url(/pf/resources/bg.png);</span></code>) - Fusion will automatically wrap any paths referenced within your CSS/SCSS files for you, since you can’t use the <code class="docutils literal notranslate"><span class="pre">deployment</span></code> function there.</p>
</div></blockquote>
</div>
<div class="section" id="parameters">
<h5>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">deployment(resourcePath)</span></code></p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">resourcePath</span></code> (<em>String</em>): The webroot relative path (including context path) to a static resource in the bundle. For example, an image whose filepath is <code class="docutils literal notranslate"><span class="pre">/resources/icon.svg</span></code> in the bundle would be <code class="docutils literal notranslate"><span class="pre">deployment('/pf/resources/icon.svg')</span></code>. You can use the <code class="docutils literal notranslate"><span class="pre">contextPath</span></code> helper to dynamically replace <code class="docutils literal notranslate"><span class="pre">pf</span></code> with whatever your specific context path is.</li>
</ul>
</div>
<div class="section" id="return">
<h5>Return<a class="headerlink" href="#return" title="Permalink to this headline">¶</a></h5>
<p>Returns the input path with a <code class="docutils literal notranslate"><span class="pre">?d={deploymentID}</span></code> query parameter appended to it.</p>
</div>
<div class="section" id="id7">
<h5>Example<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*  /components/output-types/default.jsx  */

export default ({ contextPath, deployment }) =&gt; (
  &lt;html&gt;
    &lt;head&gt;
      ...
      &lt;link rel=&#39;icon&#39; type=&#39;image/x-icon&#39; href={deployment(`${contextPath}/resources/favicon.ico`)} /&gt;
      &lt;link rel=&#39;stylesheet&#39; type=&#39;text/css&#39; href={deployment(`${contextPath}/resources/styles/main.css`)} /&gt;
    &lt;/head&gt;
    ...
  &lt;/html&gt;
)
</pre></div>
</div>
</div>
</div>
<div class="section" id="globalcontent-object">
<h4>globalContent (Object)<a class="headerlink" href="#globalcontent-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id8">
<h5>Description<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h5>
<p>This is the full data object used as the global content for the rendered page.</p>
</div>
<div class="section" id="keys">
<h5>Keys<a class="headerlink" href="#keys" title="Permalink to this headline">¶</a></h5>
<p>The keys will be the actual data object returned from the content fetch; as such we don’t know what they will be beforehand.</p>
</div>
<div class="section" id="id9">
<h5>Example<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>  <span class="o">/</span><span class="n">components</span><span class="o">/</span><span class="n">features</span><span class="o">/</span><span class="n">article</span><span class="o">/</span><span class="n">headline</span><span class="o">.</span><span class="n">jsx</span>  <span class="o">*/</span>

<span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="nn">Context</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">const</span> <span class="n">Headline</span> <span class="o">=</span> <span class="p">({</span> <span class="n">globalContent</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="n">const</span> <span class="p">{</span> <span class="n">headline</span> <span class="p">}</span> <span class="o">=</span> <span class="n">globalContent</span>
  <span class="k">return</span> <span class="n">headline</span> <span class="o">&amp;&amp;</span> <span class="o">&lt;</span><span class="n">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="n">headline</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">h1</span><span class="o">&gt;</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;</span><span class="n">Context</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="n">Headline</span><span class="p">}</span>
  <span class="o">&lt;/</span><span class="n">Context</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="globalcontentconfig-object">
<h4>globalContentConfig (Object)<a class="headerlink" href="#globalcontentconfig-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id10">
<h5>Description<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h5>
<p>This is the full config object used to fetch global content for the rendered page.</p>
</div>
<div class="section" id="id11">
<h5>Keys<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">source</span></code> (<em>String</em>): This is the name of the content source used to fetch the global content of the page or template.</li>
<li><code class="docutils literal notranslate"><span class="pre">query</span></code> (<em>Object</em>): This an object containing the key/value pairs that were used as arguments to fetch content from the global content source.</li>
</ul>
</div>
<div class="section" id="id12">
<h5>Example<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>  <span class="o">/</span><span class="n">components</span><span class="o">/</span><span class="n">features</span><span class="o">/</span><span class="n">article</span><span class="o">/</span><span class="n">story</span><span class="o">-</span><span class="n">feed</span><span class="o">.</span><span class="n">jsx</span>  <span class="o">*/</span>

<span class="kn">import</span> <span class="nn">React</span><span class="o">,</span> <span class="p">{</span> <span class="n">Component</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>
<span class="kn">import</span> <span class="nn">Consumer</span> <span class="kn">from</span> <span class="s1">&#39;fusion:consumer&#39;</span>

<span class="n">const</span> <span class="n">Story</span> <span class="o">=</span> <span class="p">({</span> <span class="n">headline</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">h3</span><span class="o">&gt;</span><span class="p">{</span><span class="n">headline</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">h3</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>

<span class="nd">@Consumer</span>
<span class="k">class</span> <span class="nc">StoryFeed</span> <span class="n">extends</span> <span class="n">Component</span> <span class="p">{</span>
  <span class="n">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">props</span><span class="p">)</span>

    <span class="n">this</span><span class="o">.</span><span class="n">page</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">this</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="n">stories</span><span class="p">:</span> <span class="n">props</span><span class="o">.</span><span class="n">globalContent</span><span class="o">.</span><span class="n">stories</span> <span class="o">||</span> <span class="p">[]</span>
    <span class="p">}</span>

    <span class="n">this</span><span class="o">.</span><span class="n">fetchStories</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">fetchStories</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="n">this</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="n">fetchStories</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">page</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">const</span> <span class="p">{</span> <span class="n">globalContentConfig</span> <span class="p">}</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">props</span>
    <span class="o">//</span> <span class="n">Use</span> <span class="n">the</span> <span class="n">globalContentConfig</span> <span class="n">to</span> <span class="n">fetch</span> <span class="n">stories</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">same</span> <span class="n">content</span> <span class="n">source</span> <span class="ow">and</span> <span class="k">with</span> <span class="n">the</span> <span class="n">same</span> <span class="n">arguments</span> <span class="k">as</span> <span class="n">the</span> <span class="n">globalContent</span> <span class="n">fetch</span>
    <span class="n">const</span> <span class="p">{</span> <span class="n">fetched</span> <span class="p">}</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">getContent</span><span class="p">(</span>
      <span class="n">globalContentConfig</span><span class="o">.</span><span class="n">story</span><span class="p">,</span>
      <span class="p">{</span>
        <span class="o">...</span><span class="n">globalContentConfig</span><span class="o">.</span><span class="n">query</span><span class="p">,</span>
        <span class="n">page</span><span class="p">:</span> <span class="n">this</span><span class="o">.</span><span class="n">page</span>
      <span class="p">}</span>
    <span class="p">)</span>

    <span class="n">fetched</span><span class="o">.</span><span class="n">then</span><span class="p">(({</span> <span class="n">stories</span><span class="p">:</span> <span class="n">newStories</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="n">this</span><span class="o">.</span><span class="n">setState</span><span class="p">(({</span> <span class="n">stories</span><span class="p">:</span> <span class="n">existingStories</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="n">stories</span><span class="p">:</span> <span class="n">existingStories</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">newStories</span><span class="p">)</span> <span class="p">})</span>
    <span class="p">})</span>
  <span class="p">}</span>

  <span class="n">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">const</span> <span class="p">{</span> <span class="n">stories</span> <span class="p">}</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">state</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
          <span class="p">{</span><span class="n">stories</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">Story</span><span class="p">)}</span>
        <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">button</span> <span class="n">onClick</span><span class="o">=</span><span class="p">{</span><span class="n">this</span><span class="o">.</span><span class="n">fetchStories</span><span class="p">()}</span><span class="o">&gt;</span><span class="n">More</span> <span class="n">Stories</span><span class="o">&lt;/</span><span class="n">button</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">StoryFeed</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="isadmin-boolean">
<h4>isAdmin (Boolean)<a class="headerlink" href="#isadmin-boolean" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id13">
<h5>Description<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h5>
<p>This represents whether the current render is occuring in the PB admin preview, or as a standard page view.</p>
</div>
<div class="section" id="id14">
<h5>Example<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*  /components/features/global/logo.jsx  */

import React from &#39;react&#39;
import Context from &#39;fusion:context&#39;

const Ad = ({ isAdmin}) =&gt; !isAdmin &amp;&amp; &lt;div id=&#39;some-ad&#39;&gt;&lt;/div&gt;

export default (props) =&gt;
  &lt;Context&gt;
    {Ad}
  &lt;/Context&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="layout-string">
<h4>layout (String)<a class="headerlink" href="#layout-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id15">
<h5>Description<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h5>
<p>The name of the Layout that was used when rendering this page.</p>
</div>
<div class="section" id="id16">
<h5>Example<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*  /components/features/common/image.jsx  */

import Context from &#39;fusion:context&#39;
import React, { Component } from &#39;react&#39;

const Img = ({ layout }) =&gt; {
  // Use the layout prop to determine whether to add a class to our image or not
  const isResponsive = (layout === &#39;responsive-sidebar&#39;)

  return &lt;img src={props.imgSrc} className={isResponsive ? &#39;responsive&#39; : null} /&gt;
}

export default (props) =&gt;
  &lt;Context&gt;
    {Img}
  &lt;/Context&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="outputtype-string">
<h4>outputType (String)<a class="headerlink" href="#outputtype-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id17">
<h5>Description<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h5>
<p>The Output Type that was used when rendering this page.</p>
</div>
<div class="section" id="id18">
<h5>Example<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>  <span class="o">/</span><span class="n">components</span><span class="o">/</span><span class="n">features</span><span class="o">/</span><span class="n">common</span><span class="o">/</span><span class="n">link</span><span class="o">.</span><span class="n">jsx</span>  <span class="o">*/</span>

<span class="kn">import</span> <span class="nn">Consumer</span> <span class="kn">from</span> <span class="s1">&#39;fusion:consumer&#39;</span>
<span class="kn">import</span> <span class="nn">React</span><span class="o">,</span> <span class="p">{</span> <span class="n">Component</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>

<span class="nd">@Consumer</span>
<span class="k">class</span> <span class="nc">Link</span> <span class="n">extends</span> <span class="n">Component</span> <span class="p">{</span>
  <span class="o">...</span>
  <span class="n">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">const</span> <span class="p">{</span> <span class="n">outputType</span> <span class="p">}</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">props</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">outputType</span> <span class="o">===</span> <span class="s1">&#39;amp&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="p">{</span><span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="o">.</span><span class="n">linkUrl</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="o">.</span><span class="n">text</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="o">&lt;</span><span class="n">a</span> <span class="n">onClick</span><span class="o">=</span><span class="p">{</span><span class="n">this</span><span class="o">.</span><span class="n">invokeJsMethod</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="o">.</span><span class="n">text</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">Link</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="renderables-array">
<h4>renderables - (Array)<a class="headerlink" href="#renderables-array" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id19">
<h5>Description<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h5>
<p>A flattened array of all component elements from <code class="docutils literal notranslate"><span class="pre">tree</span></code>. Suitable for direct access with <code class="docutils literal notranslate"><span class="pre">.find</span></code>, <code class="docutils literal notranslate"><span class="pre">.filter</span></code>, or <code class="docutils literal notranslate"><span class="pre">.map</span></code>.</p>
</div>
</div>
<div class="section" id="requesturi-string">
<h4>requestUri (String)<a class="headerlink" href="#requesturi-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id20">
<h5>Description<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h5>
<p>This is the URI that was requested to initiate this rendering. In the client, you could access this using <code class="docutils literal notranslate"><span class="pre">window.location</span></code>, but this property exists to provide similar server-side access.</p>
</div>
<div class="section" id="id21">
<h5>Example<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*  /components/features/common/link.jsx  */

import Consumer from &#39;fusion:consumer&#39;
import React, { Component } from &#39;react&#39;
import URL from &#39;url&#39;

@Consumer
class Link extends Component {
  render() {
    const { requestUri, linkUrl, text } = this.props

    // Compare the hostnames of the page that was requested vs. the link to see if the link is to an external domain
    const requestUrlObj = URL.parse(requestUri)
    const linkUrlObj = URL.parse(linkUrl)
    const isDifferentDomain = requestUrlObj.hostname !== linkUrlObj.hostname

    // If it&#39;s external, open in a new tab
    const targetVal = isDifferentDomain ? &#39;_blank&#39; : null

    return &lt;a target={targetVal} href={linkUrl}&gt;{text}&lt;/a&gt;
  }
}

export default Link
</pre></div>
</div>
</div>
</div>
<div class="section" id="siteproperties-object">
<h4>siteProperties (Object)<a class="headerlink" href="#siteproperties-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id22">
<h5>Description<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h5>
<p>An object containing the site-specific properties defined in the <code class="docutils literal notranslate"><span class="pre">/properties/</span></code> directory for the current <a class="reference external" href="#arcsite"><code>arcSite</code></a>.</p>
</div>
<div class="section" id="id23">
<h5>Example<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>  <span class="o">/</span><span class="n">components</span><span class="o">/</span><span class="n">features</span><span class="o">/</span><span class="n">header</span><span class="o">/</span><span class="n">social</span><span class="o">-</span><span class="n">links</span><span class="o">.</span><span class="n">jsx</span>  <span class="o">*/</span>

<span class="kn">import</span> <span class="nn">Consumer</span> <span class="kn">from</span> <span class="s1">&#39;fusion:consumer&#39;</span>
<span class="kn">import</span> <span class="nn">React</span><span class="o">,</span> <span class="p">{</span> <span class="n">Component</span> <span class="p">}</span> <span class="kn">from</span> <span class="nn">react</span>

<span class="nd">@Consumer</span>
<span class="k">class</span> <span class="nc">SocialLinks</span> <span class="n">extends</span> <span class="n">Component</span> <span class="p">{</span>
  <span class="n">render</span> <span class="p">()</span> <span class="p">{</span>
    <span class="n">const</span> <span class="n">twitter</span> <span class="o">=</span> <span class="n">this</span><span class="o">.</span><span class="n">props</span><span class="o">.</span><span class="n">siteProperties</span>

    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="n">ul</span><span class="o">&gt;</span>
        <span class="o">...</span>
        <span class="o">&lt;</span><span class="n">li</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="p">{</span><span class="n">twitter</span><span class="p">}</span><span class="o">&gt;</span><span class="n">Twitter</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">li</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">ul</span><span class="o">&gt;</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">SocialLinks</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="template-string">
<h4>template (String)<a class="headerlink" href="#template-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id24">
<h5>Description<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h5>
<p>The ID of the template that was used when rendering this page.</p>
</div>
</div>
<div class="section" id="tree-object">
<h4>tree - (Object)<a class="headerlink" href="#tree-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id25">
<h5>Description<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h5>
<p>A JS object that represents the full component tree of the page to be rendered.</p>
</div>
</div>
</div>
<div class="section" id="component-context">
<h3>Component Context<a class="headerlink" href="#component-context" title="Permalink to this headline">¶</a></h3>
<div class="section" id="collection-string">
<h4>collection - (String)<a class="headerlink" href="#collection-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id26">
<h5>Description<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h5>
<p>The collection of the currently scoped component. Will be one of <code class="docutils literal notranslate"><span class="pre">layout</span></code>, <code class="docutils literal notranslate"><span class="pre">section</span></code>, <code class="docutils literal notranslate"><span class="pre">chain</span></code>, or <code class="docutils literal notranslate"><span class="pre">feature</span></code>.</p>
</div>
</div>
<div class="section" id="type-string">
<h4>type - (String)<a class="headerlink" href="#type-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id27">
<h5>Description<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h5>
<p>The type of the currently scoped component. Will be the name of the component type (e.g., <code class="docutils literal notranslate"><span class="pre">article/body</span></code> or <code class="docutils literal notranslate"><span class="pre">global/header</span></code>).</p>
</div>
</div>
<div class="section" id="id-string">
<h4>id - (String)<a class="headerlink" href="#id-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id28">
<h5>Description<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h5>
<p>The fingerprint of the currently scoped component. Will be a unique id across the entire app.</p>
</div>
</div>
<div class="section" id="name-string">
<h4>name - (String)<a class="headerlink" href="#name-string" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id29">
<h5>Description<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h5>
<p>The custom name of the currently scoped component, as provided in the editor application.</p>
</div>
</div>
<div class="section" id="customfields-object">
<h4>customFields - (Object)<a class="headerlink" href="#customfields-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id30">
<h5>Description<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h5>
<p>The custom fields of the currently scoped component.</p>
</div>
</div>
<div class="section" id="displayproperties-object">
<h4>displayProperties - (Object)<a class="headerlink" href="#displayproperties-object" title="Permalink to this headline">¶</a></h4>
<div class="section" id="id31">
<h5>Description<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h5>
<p>The display properties of the currently scoped component.</p>
</div>
</div>
</div>
</div>
<div class="section" id="pass-through-props">
<h2>Pass-through Props<a class="headerlink" href="#pass-through-props" title="Permalink to this headline">¶</a></h2>
<p>In order to simplify re-use of functional React components, any attributes provided to the <code class="docutils literal notranslate"><span class="pre">&lt;Context&gt;</span></code> component will be passed through to the child function. However, be careful with using this pattern, as in the event of conflict it will override the context properties you are trying to access.</p>
<div class="section" id="id32">
<h3>Example<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>

<span class="kn">import</span> <span class="nn">Context</span> <span class="kn">from</span> <span class="s1">&#39;fusion:context&#39;</span>

<span class="n">const</span> <span class="n">ArcSiteComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="n">arcSite</span><span class="p">,</span> <span class="n">label</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span><span class="p">{</span><span class="n">label</span><span class="p">}:</span> <span class="p">{</span><span class="n">arcSite</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>

<span class="n">const</span> <span class="n">MyFeatureComponent</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;</span><span class="n">Context</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;arc-site&#39;</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="n">ArcSiteComponent</span><span class="p">}</span>
  <span class="o">&lt;/</span><span class="n">Context</span><span class="o">&gt;</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">MyFeatureComponent</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api-content.html" class="btn btn-neutral float-right" title="Content Component API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api-consumer.html" class="btn btn-neutral float-left" title="Consumer API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Guess Me

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>