

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a Feature Component &mdash; Fusion-Doc 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Creating a Layout Component" href="layout.html" />
    <link rel="prev" title="Creating and Using Output Types" href="output.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Fusion-Doc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="output.html">Creating and Using Output Types</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Creating a Feature Component</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#writing-a-feature">Writing a feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="#handling-different-output-types">Handling different output types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#different-component-versions-per-output-types">Different component versions per output types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#same-output-type-with-different-logic">Same output type with different logic</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="layout.html">Creating a Layout Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="chain.html">Creating a Chain Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="event-handling.html">Event Handling and Interaction</a></li>
</ul>
<p class="caption"><span class="caption-text">Data:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="content-source.html">Defining a Content Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Using Environment Variables and “Secrets”</a></li>
<li class="toctree-l1"><a class="reference internal" href="consumer-hoc.html">Using the Consumer Higher-Order Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetching-content.html">Fetching Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring-content.html">Dynamically Configuring Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="content-filtering.html">Content Filtering in Fusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="site-properties.html">Using Site Properties</a></li>
</ul>
<p class="caption"><span class="caption-text">General:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Folder.html">Examining the Feature Pack</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">Adding Styling to Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-fields.html">Adding Custom Fields to Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="display-properties.html">Working with Display Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="isomorphic-server-spa.html">Isomorphic vs. Server vs. SPA rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="messga-between-components.html">Messaging Between Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-error-page.html">Using Custom Error Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="return-non-html-content-type.html">Creating a Web API Returning a Non-HTML Content Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="service-work.html">Using Service Workers with Fusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="local-webpack-states-file.html">Locally Generated Webpack Stats File</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-features-outside-of-fusion.html">Including Static Features Outside of Fusion</a></li>
</ul>
<p class="caption"><span class="caption-text">Best Practices:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bp.html">Best Practices</a></li>
</ul>
<p class="caption"><span class="caption-text">Hooks:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hooks-configuring-content.html">Dynamically Configuring Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks-fetching-content.html">Fetching Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks-event-handling.html">Event Handling and Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks.html">React Hooks</a></li>
</ul>
<p class="caption"><span class="caption-text">API:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api-output.html">Output Type API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-feature.html">Feature API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-layout.html">Layout API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-chain.html">Chain API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-custom-fields.html">Custom Fields API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-consumer.html">Consumer API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-context.html">Context Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-content.html">Content Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-static.html">Static Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-content-source.html">Content Source API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-plugins.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-local-development-mock.html">Local Mocks API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-site-properties.html">Site Properties API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-fusion-http.html">Fusion HTTP API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Fusion-Doc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Creating a Feature Component</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/feature.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-a-feature-component">
<h1>Creating a Feature Component<a class="headerlink" href="#creating-a-feature-component" title="Permalink to this headline">¶</a></h1>
<p>After Output Types, Features are probably the most important components in your Feature Pack - after all, that’s where the Feature Pack gets its name! The purpose of a Feature is to be a configurable, composable block of markup on your webpage that can display content fetched from your content sources (although it doesn’t have to). Features get defined in code in your Feature Pack, then added to a page or template by editors in the PageBuilder Admin.</p>
<p>Since we don’t know which Features might exist on a page or template when we define them, it’s a good idea to make your Feature code entirely self-sufficient - that is, as much as possible it shouldn’t rely on the presence or absence of any other components on the page (this includes Layouts, Chains, and other Features).</p>
<div class="section" id="writing-a-feature">
<h2>Writing a feature<a class="headerlink" href="#writing-a-feature" title="Permalink to this headline">¶</a></h2>
<p>Let’s define a simple Feature whose purpose is to display the title and details for a movie we’ve fetched from our content source. We’ll create a new directory named <code class="docutils literal notranslate"><span class="pre">movies</span></code> in the <code class="docutils literal notranslate"><span class="pre">/components/features/</span></code> directory, and a file within that folder called <code class="docutils literal notranslate"><span class="pre">movie-detail.jsx</span></code>.</p>
<blockquote>
<div><p><strong>NOTE</strong></p>
<p>Feature components, unlike other components, are stored in directories based on their “group”. A “group” is just a namespace of related Features - you might have an <code class="docutils literal notranslate"><span class="pre">article</span></code> group that contains <code class="docutils literal notranslate"><span class="pre">headline</span></code> and <code class="docutils literal notranslate"><span class="pre">mainStory</span></code> Features, for example. Here, the “group” we’re creating is called <code class="docutils literal notranslate"><span class="pre">movies</span></code>, so we create a directory with that name and store our <code class="docutils literal notranslate"><span class="pre">MovieDetail</span></code> Feature inside of it.</p>
</div></blockquote>
<p>The Feature might look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*  /components/features/movies/movie-detail.jsx  */

import React, { Component } from &#39;react&#39;

class MovieDetail extends Component {
  render () {
    return (
      &lt;div className=&#39;movie-detail col-sm-12 col-md-8&#39;&gt;
        &lt;h1&gt;Jurassic Park&lt;/h1&gt;
        &lt;p&gt;&lt;strong&gt;Director:&lt;/strong&gt; Steven Spielberg&lt;/p&gt;
        &lt;p&gt;&lt;strong&gt;Actors:&lt;/strong&gt; Sam Neill, Laura Dern, Jeff Goldblum, Richard Attenborough&lt;/p&gt;
        &lt;p&gt;&lt;strong&gt;Plot:&lt;/strong&gt; Lorem ipsum&lt;/p&gt;
        &lt;p&gt;&lt;strong&gt;Rated:&lt;/strong&gt; PG-13&lt;/p&gt;
        &lt;p&gt;&lt;strong&gt;Writer:&lt;/strong&gt; Michael Crichton (novel), Michael Crichton (screenplay), David Koepp (screenplay)&lt;/p&gt;
        &lt;p&gt;&lt;strong&gt;Year:&lt;/strong&gt; 1993&lt;/p&gt;
        &lt;img src=&#39;https://m.media-amazon.com/images/M/MV5BMjM2MDgxMDg0Nl5BMl5BanBnXkFtZTgwNTM2OTM5NDE@._V1_SX300.jpg&#39; alt={`Poster for Jurassic Park`} /&gt;
      &lt;/div&gt;
    )
  }
}

MovieDetail.label = &#39;Movie Detail&#39;

export default MovieDetail
</pre></div>
</div>
<p>After creating this file, you should be able to go to the Page Editor in PageBuilder Admin and add this Feature to the <code class="docutils literal notranslate"><span class="pre">homepage</span></code> we created earlier - click on <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">to</span></code> button under the Layout section to add your new feature. Once you do, you should see it displayed on the page! Notice that the value set for <code class="docutils literal notranslate"><span class="pre">MovieDetail.label</span></code> is the name of the Feature displayed in the Page Editor. The <code class="docutils literal notranslate"><span class="pre">label</span></code> allows you to display this Feature in the PageBuilder Editor with a more human-friendly name. You could also set the value of <code class="docutils literal notranslate"><span class="pre">label</span></code> to be an Object that maps i18n locale codes to their translations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MovieDetail</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">en</span><span class="p">:</span> <span class="s1">&#39;Movie Detail&#39;</span><span class="p">,</span>
  <span class="n">es</span><span class="p">:</span> <span class="s1">&#39;Los detalles de la pelicula&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you provide a label in this format, the Feature will automatically be translated to either English or Spanish. If a translation is not provided for a locale, the Feature will be displayed using the filename. In this case, a web browser set to French will fall back to displaying <code class="docutils literal notranslate"><span class="pre">MovieDetail</span></code>.</p>
<blockquote>
<div><p><strong>NOTE</strong></p>
<p>Remember, if you don’t see your component show up right away, you may need to restart your Fusion app with <code class="docutils literal notranslate"><span class="pre">CTRL+C</span></code> and then re-running <code class="docutils literal notranslate"><span class="pre">npx</span> <span class="pre">fusion</span> <span class="pre">start</span></code>!</p>
</div></blockquote>
<p>While this very simple component will work, it doesn’t really solve our problem since it doesn’t render any dynamic content; just static information about a <a class="reference external" href="https://www.imdb.com/title/tt0107290/">single (awesome) movie</a>.</p>
</div>
<div class="section" id="handling-different-output-types">
<h2>Handling different output types<a class="headerlink" href="#handling-different-output-types" title="Permalink to this headline">¶</a></h2>
<p>Often times, you’ll want your components to operate differently based on what Output Type they are being rendered within. This is useful, for example, in situations where you want to render a desktop web version of a Feature, and then a different mobile web version, and maybe even a version for Google AMP consumption. There are two main ways to achieve this result:</p>
<div class="section" id="different-component-versions-per-output-types">
<h3>Different component versions per output types<a class="headerlink" href="#different-component-versions-per-output-types" title="Permalink to this headline">¶</a></h3>
<p>It’s possible to define entirely different versions of a Feature depending on what output type is being rendered. You can utilize this functionality by naming your feature components after the output types they should correspond to, and then putting them all inside that Feature’s specific directory.</p>
<p>In the example above, we created a <code class="docutils literal notranslate"><span class="pre">movies/</span></code> directory and added a <code class="docutils literal notranslate"><span class="pre">movie-detail.jsx</span></code> file to it, indicating that this version of our Feature should be used with every outputType. If we wanted to create a different version of the feature for <em>each</em> outputType we had, we could make <code class="docutils literal notranslate"><span class="pre">movie-detail</span></code> a directory instead of a file. Then, within that directory we could create a <code class="docutils literal notranslate"><span class="pre">default.jsx</span></code> file that served as our “default” version of the component. If we then wanted to serve a different version of the component for Amp, and we had an output type named <code class="docutils literal notranslate"><span class="pre">amp</span></code>, we’d simply add an <code class="docutils literal notranslate"><span class="pre">amp.jsx</span></code> file to our <code class="docutils literal notranslate"><span class="pre">movie-detail/</span></code> directory and write whatever AMP-specific Feature code we wanted in it.</p>
</div>
<div class="section" id="same-output-type-with-different-logic">
<h3>Same output type with different logic<a class="headerlink" href="#same-output-type-with-different-logic" title="Permalink to this headline">¶</a></h3>
<p>Alternatively, if a Feature should act very similarly across multiple Output Types, but has only a few small changes between each, you can simply render a single Feature component for all Output Types and add logical changes based on the <code class="docutils literal notranslate"><span class="pre">props.outputType</span></code> property proved by the Consumer. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  render() {
    const { globalContent, outputType } = this.props

    if (outputType === &#39;amp&#39;) {
      return (
        &lt;a href=&quot;/link-to-webpage-that-does-something&quot;&gt;Click Me!&lt;/a&gt;
      )
    }

    return &lt;a onClick={ this.doSomething }&gt;Click Me!&lt;/a&gt;
  }
</pre></div>
</div>
<p>In this example, we render slightly different links if the provided <code class="docutils literal notranslate"><span class="pre">outputType</span></code> is <code class="docutils literal notranslate"><span class="pre">amp</span></code> or not. Since AMP doesn’t allow JavaScript, we send the user to a link - in all other cases, some client side JS is invoked.</p>
<p>It’s up to you whether it makes sense to create an entirely new version of a Feature for a different output type, or if the changes are small enough that they can be contained in 1 Feature definition.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="layout.html" class="btn btn-neutral float-right" title="Creating a Layout Component" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="output.html" class="btn btn-neutral float-left" title="Creating and Using Output Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Guess Me

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>