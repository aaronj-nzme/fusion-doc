

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Chain API &mdash; Fusion-Doc 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Custom Fields API" href="api-custom-fields.html" />
    <link rel="prev" title="Layout API" href="api-layout.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Fusion-Doc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="output.html">Creating and Using Output Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="feature.html">Creating a Feature Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout.html">Creating a Layout Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="chain.html">Creating a Chain Component</a></li>
<li class="toctree-l1"><a class="reference internal" href="event-handling.html">Event Handling and Interaction</a></li>
</ul>
<p class="caption"><span class="caption-text">Data:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="content-source.html">Defining a Content Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment.html">Using Environment Variables and “Secrets”</a></li>
<li class="toctree-l1"><a class="reference internal" href="consumer-hoc.html">Using the Consumer Higher-Order Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="fetching-content.html">Fetching Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring-content.html">Dynamically Configuring Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="content-filtering.html">Content Filtering in Fusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="site-properties.html">Using Site Properties</a></li>
</ul>
<p class="caption"><span class="caption-text">General:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Folder.html">Examining the Feature Pack</a></li>
<li class="toctree-l1"><a class="reference internal" href="style.html">Adding Styling to Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-fields.html">Adding Custom Fields to Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="display-properties.html">Working with Display Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="isomorphic-server-spa.html">Isomorphic vs. Server vs. SPA rendering</a></li>
<li class="toctree-l1"><a class="reference internal" href="messga-between-components.html">Messaging Between Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom-error-page.html">Using Custom Error Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="return-non-html-content-type.html">Creating a Web API Returning a Non-HTML Content Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="service-work.html">Using Service Workers with Fusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="local-webpack-states-file.html">Locally Generated Webpack Stats File</a></li>
<li class="toctree-l1"><a class="reference internal" href="static-features-outside-of-fusion.html">Including Static Features Outside of Fusion</a></li>
</ul>
<p class="caption"><span class="caption-text">Best Practices:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bp.html">Best Practices</a></li>
</ul>
<p class="caption"><span class="caption-text">Hooks:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hooks-configuring-content.html">Dynamically Configuring Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks-fetching-content.html">Fetching Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks-event-handling.html">Event Handling and Interaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="hooks.html">React Hooks</a></li>
</ul>
<p class="caption"><span class="caption-text">API:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api-output.html">Output Type API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-feature.html">Feature API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-layout.html">Layout API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Chain API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#implementation">Implementation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#naming">Naming</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#props">Props</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#children-array">children - (Array)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#childprops-array">childProps - (Array)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#static-values">Static Values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#label-object-or-string">label (Object or String)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#custom-fields">Custom Fields</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-custom-fields.html">Custom Fields API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-consumer.html">Consumer API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-context.html">Context Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-content.html">Content Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-static.html">Static Component API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-content-source.html">Content Source API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-plugins.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-local-development-mock.html">Local Mocks API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-site-properties.html">Site Properties API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-fusion-http.html">Fusion HTTP API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Fusion-Doc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Chain API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api-chain.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="chain-api">
<h1>Chain API<a class="headerlink" href="#chain-api" title="Permalink to this headline">¶</a></h1>
<p>Chains are Fusion components that serve as wrapping elements around a group of Features. Features are grouped into a Chain by editors in PageBuilder, and are available to the component as <a class="reference external" href="#children"><code>props.children</code></a>. Chains are rendered both on the server and the client (i.e. isomorphically). Chains also support <a class="reference external" href="#custom-fields">custom fields</a>, and can be rendered differently per Output Type.</p>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="naming">
<h3>Naming<a class="headerlink" href="#naming" title="Permalink to this headline">¶</a></h3>
<p>A Chain is expected to be stored and named in one of the following formats:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">/components/chains/{chainName}.(js|jsx)</span></code></li>
</ul>
<blockquote>
<div>This will build one version of this component that is rendered for all Output Types, where the <code class="docutils literal notranslate"><span class="pre">{chainName}</span></code> portion of the filepath represents the name of the Chain.</div></blockquote>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">/components/chains/{chainName}/{outputTypeName}.(js|jsx)</span></code></li>
</ul>
<blockquote>
<div>This will build a version of this component that corresponds to the name of the Output Type in the filename. The <code class="docutils literal notranslate"><span class="pre">{chainName}</span></code> portion of the filepath represents the name of the Chain. If there is a component named <code class="docutils literal notranslate"><span class="pre">default.(js|jsx)</span></code>, that component will be rendered as a fallback if no file with the name of the relevant Output Type is found.</div></blockquote>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>  <span class="o">/</span><span class="n">components</span><span class="o">/</span><span class="n">chains</span><span class="o">/</span><span class="n">two</span><span class="o">-</span><span class="n">chainz</span><span class="o">.</span><span class="n">jsx</span>  <span class="o">*/</span>

<span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>

<span class="n">const</span> <span class="n">TwoChainz</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">props</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">length</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
  <span class="n">const</span> <span class="n">firstCol</span> <span class="o">=</span> <span class="n">props</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>
  <span class="n">const</span> <span class="n">secondCol</span> <span class="o">=</span> <span class="n">props</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">mid</span><span class="p">)</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">section</span><span class="o">&gt;</span><span class="p">{</span><span class="n">firstCol</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">section</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="n">secondCol</span> <span class="o">&amp;&amp;</span> <span class="n">secondCol</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
        <span class="o">&lt;</span><span class="n">section</span><span class="o">&gt;</span><span class="p">{</span><span class="n">secondCol</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">section</span><span class="o">&gt;</span>
      <span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">TwoChainz</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="props">
<h2>Props<a class="headerlink" href="#props" title="Permalink to this headline">¶</a></h2>
<div class="section" id="children-array">
<h3>children - (Array)<a class="headerlink" href="#children-array" title="Permalink to this headline">¶</a></h3>
<p>See the <code class="docutils literal notranslate"><span class="pre">children</span></code> section in the <a class="reference external" href="./output-type.md#children">Output Type API</a></p>
</div>
<div class="section" id="childprops-array">
<h3>childProps - (Array)<a class="headerlink" href="#childprops-array" title="Permalink to this headline">¶</a></h3>
<p>See the <code class="docutils literal notranslate"><span class="pre">childProps</span></code> section in the <a class="reference external" href="./layout.md#childProps">Layout API</a></p>
</div>
</div>
<div class="section" id="static-values">
<h2>Static Values<a class="headerlink" href="#static-values" title="Permalink to this headline">¶</a></h2>
<div class="section" id="label-object-or-string">
<h3>label (Object or String)<a class="headerlink" href="#label-object-or-string" title="Permalink to this headline">¶</a></h3>
<div class="section" id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">label</span></code> field is used in the PageBuilder Editor instead of the actual chain filename. The primary purpose of this value is to enable internationalization (i18n) for chains. If this chain will be used by publications in multiple languages, a <code class="docutils literal notranslate"><span class="pre">label</span></code> allows the PageBuilder Editor to use the translation provided for each locale.</p>
</div>
<div class="section" id="id1">
<h4>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Providing a <code class="docutils literal notranslate"><span class="pre">label</span></code> as an Object is the preferred approach as it enables internationalization for any locales that are provided in the chain implementation. In this example, users in an English-speaking locale will see <code class="docutils literal notranslate"><span class="pre">Two</span> <span class="pre">chains</span></code>, but users in a Spanish-speaking locale will see <code class="docutils literal notranslate"><span class="pre">Dos</span> <span class="pre">cadenas</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/*</span>  <span class="o">/</span><span class="n">components</span><span class="o">/</span><span class="n">chains</span><span class="o">/</span><span class="n">two</span><span class="o">-</span><span class="n">chainz</span><span class="o">.</span><span class="n">jsx</span>  <span class="o">*/</span>

<span class="kn">import</span> <span class="nn">React</span> <span class="kn">from</span> <span class="s1">&#39;react&#39;</span>

<span class="n">const</span> <span class="n">TwoChainz</span> <span class="o">=</span> <span class="p">(</span><span class="n">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="n">const</span> <span class="n">mid</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">props</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">length</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
  <span class="n">const</span> <span class="n">firstCol</span> <span class="o">=</span> <span class="n">props</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>
  <span class="n">const</span> <span class="n">secondCol</span> <span class="o">=</span> <span class="n">props</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="n">mid</span><span class="p">)</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="n">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">section</span><span class="o">&gt;</span><span class="p">{</span><span class="n">firstCol</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">section</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="n">secondCol</span> <span class="o">&amp;&amp;</span> <span class="n">secondCol</span><span class="o">.</span><span class="n">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
        <span class="o">&lt;</span><span class="n">section</span><span class="o">&gt;</span><span class="p">{</span><span class="n">secondCol</span><span class="p">}</span><span class="o">&lt;/</span><span class="n">section</span><span class="o">&gt;</span>
      <span class="p">}</span>
    <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="n">TwoChainz</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">en</span><span class="p">:</span> <span class="s1">&#39;Two chains&#39;</span><span class="p">,</span>
  <span class="n">es</span><span class="p">:</span> <span class="s1">&#39;Dos cadenas&#39;</span>
<span class="p">}</span>

<span class="n">export</span> <span class="n">default</span> <span class="n">TwoChainz</span>
</pre></div>
</div>
<p>Providing a <code class="docutils literal notranslate"><span class="pre">label</span></code> as a String is also supported for chains that should always have the same label in the PageBuilder Editor. If a <code class="docutils literal notranslate"><span class="pre">label</span></code> is provided as a String, then the value will always be used even if the user is in a different locale. In this example, users will always see <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">Chains</span></code> regardless of their locale.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/*  /components/chains/two-chainz.jsx  */

import React from &#39;react&#39;

const TwoChainz = (props) =&gt; {
  const mid = Math.floor(props.children.length / 2)
  const firstCol = props.children.slice(0, mid)
  const secondCol = props.children.slice(mid)

  return (
    &lt;div&gt;
      &lt;section&gt;{firstCol}&lt;/section&gt;
      {secondCol &amp;&amp; secondCol.length &gt; 0 &amp;&amp;
        &lt;section&gt;{secondCol}&lt;/section&gt;
      }
    &lt;/div&gt;
  )
}

TwoChainz.label = `2 Chains`

export default TwoChainz
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="custom-fields">
<h2>Custom Fields<a class="headerlink" href="#custom-fields" title="Permalink to this headline">¶</a></h2>
<p>See the <a class="reference internal" href="custom-fields.html"><span class="doc">Custom Fields documentation</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api-custom-fields.html" class="btn btn-neutral float-right" title="Custom Fields API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api-layout.html" class="btn btn-neutral float-left" title="Layout API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Guess Me

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>